[2020-08-16 14:44:07,01] [info] Running with database db.url = jdbc:hsqldb:mem:f7ebb181-0b17-421c-a2d5-48dcae1bc14b;shutdown=false;hsqldb.tx=mvcc
[2020-08-16 14:44:18,47] [info] Running migration RenameWorkflowOptionsInMetadata with a read batch size of 100000 and a write batch size of 100000
[2020-08-16 14:44:18,48] [info] [RenameWorkflowOptionsInMetadata] 100%
[2020-08-16 14:44:18,61] [info] Running with database db.url = jdbc:hsqldb:mem:65e8c1d7-457b-4dd8-9a89-c2dedd0704eb;shutdown=false;hsqldb.tx=mvcc
[2020-08-16 14:44:19,16] [info] Slf4jLogger started
[2020-08-16 14:44:19,52] [info] Workflow heartbeat configuration:
{
  "cromwellId" : "cromid-c037fa0",
  "heartbeatInterval" : "2 minutes",
  "ttl" : "10 minutes",
  "writeBatchSize" : 10000,
  "writeThreshold" : 10000
}
[2020-08-16 14:44:19,65] [info] Metadata summary refreshing every 2 seconds.
[2020-08-16 14:44:19,76] [info] KvWriteActor configured to flush with batch size 200 and process rate 5 seconds.
[2020-08-16 14:44:19,76] [info] CallCacheWriteActor configured to flush with batch size 100 and process rate 3 seconds.
[2020-08-16 14:44:19,77] [info] WriteMetadataActor configured to flush with batch size 200 and process rate 5 seconds.
[2020-08-16 14:44:20,77] [info] JobExecutionTokenDispenser - Distribution rate: 50 per 1 seconds.
[2020-08-16 14:44:20,84] [info] SingleWorkflowRunnerActor: Version 34
[2020-08-16 14:44:20,84] [info] SingleWorkflowRunnerActor: Submitting workflow
[2020-08-16 14:44:20,92] [info] Unspecified type (Unspecified version) workflow f470e2cb-0522-45fb-9a90-9c9c0a1c339b submitted
[2020-08-16 14:44:21,00] [info] SingleWorkflowRunnerActor: Workflow submitted [38;5;2mf470e2cb-0522-45fb-9a90-9c9c0a1c339b[0m
[2020-08-16 14:44:21,00] [[38;5;220mwarn[0m] SingleWorkflowRunnerActor: received unexpected message: Done in state RunningSwraData
[2020-08-16 14:44:21,13] [[38;5;220mwarn[0m] Couldn't find a suitable DSN, defaulting to a Noop one.
[2020-08-16 14:44:21,15] [info] Using noop to send events.
[2020-08-16 14:44:21,20] [info] 1 new workflows fetched
[2020-08-16 14:44:21,20] [info] WorkflowManagerActor Starting workflow [38;5;2mf470e2cb-0522-45fb-9a90-9c9c0a1c339b[0m
[2020-08-16 14:44:21,20] [info] WorkflowManagerActor Successfully started WorkflowActor-f470e2cb-0522-45fb-9a90-9c9c0a1c339b
[2020-08-16 14:44:21,20] [info] Retrieved 1 workflows from the WorkflowStoreActor
[2020-08-16 14:44:21,21] [info] WorkflowStoreHeartbeatWriteActor configured to flush with batch size 10000 and process rate 2 minutes.
[2020-08-16 14:44:21,21] [info] MaterializeWorkflowDescriptorActor [[38;5;2mf470e2cb[0m]: Parsing workflow as WDL draft-2
[2020-08-16 14:44:22,42] [info] MaterializeWorkflowDescriptorActor [[38;5;2mf470e2cb[0m]: Call-to-Backend assignments: panoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report -> Local
[2020-08-16 14:44:22,67] [[38;5;220mwarn[0m] Local [[38;5;2mf470e2cb[0m]: Key/s [memory, disks, cpu] is/are not supported by backend. Unsupported attributes will not be part of job executions.
[2020-08-16 14:44:23,99] [info] WorkflowExecutionActor-f470e2cb-0522-45fb-9a90-9c9c0a1c339b [[38;5;2mf470e2cb[0m]: Starting panoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report
[2020-08-16 14:44:25,32] [[38;5;220mwarn[0m] BackgroundConfigAsyncJobExecutionActor [[38;5;2mf470e2cb[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: Unrecognized runtime attribute keys: disks, cpu, memory
[2020-08-16 14:44:25,44] [[38;5;220mwarn[0m] Localization via hard link has failed: /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/inputs/-1376229487/cll-set1-proteome.tar -> /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/testdata/cll-set1-proteome.tar: Operation not permitted
[2020-08-16 14:44:29,11] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2mf470e2cb[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: [38;5;5mset -euo pipefail
Rscript /home/pgdac/src/rmd-normalize.r /cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/inputs/-1376229487/cll-set1-proteome.tar cll-set1-v1.0-proteome proteome tmp[0m
[2020-08-16 14:44:29,17] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2mf470e2cb[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: executing: # make sure there is no preexisting Docker CID file
rm -f /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/execution/docker_cid
# run as in the original configuration without --rm flag (will remove later)
docker run \
  --cidfile /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/execution/docker_cid \
  -i \
   \
  --entrypoint /bin/bash \
  -v /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report:/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report \
  broadcptacdev/panoply_normalize_ms_data_report@sha256:59bf6a65561cb4c6a6619ef2ae2ab0782394ee4fee8a77ca1e3d57ee6419e0bc /cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/execution/script

# get the return code (working even if the container was detached)
rc=$(docker wait [38;5;5mcat /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/execution/docker_cid[0m)

# remove the container after waiting
docker rm [38;5;5mcat /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/execution/docker_cid[0m

# return exit code
exit $rc
[2020-08-16 14:44:29,96] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2mf470e2cb[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: job id: 19796
[2020-08-16 14:44:29,97] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2mf470e2cb[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: Status change from - to WaitingForReturnCodeFile
[2020-08-16 14:44:42,21] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2mf470e2cb[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: Status change from WaitingForReturnCodeFile to Done
[2020-08-16 14:44:42,64] [info] $a [[38;5;2mf470e2cb[0m]: Copying workflow logs from /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-workflow-logs/workflow.f470e2cb-0522-45fb-9a90-9c9c0a1c339b.log to running/wf_logs/workflow.f470e2cb-0522-45fb-9a90-9c9c0a1c339b.log
[2020-08-16 14:44:42,66] [[38;5;1merror[0m] WorkflowManagerActor Workflow f470e2cb-0522-45fb-9a90-9c9c0a1c339b failed (during ExecutingWorkflowState): Job panoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1 exited with return code 1 which has not been declared as a valid return code. See 'continueOnReturnCode' runtime attribute for more details.
Check the content of stderr for potential additional information: /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/f470e2cb-0522-45fb-9a90-9c9c0a1c339b/call-panoply_normalize_ms_data_report/execution/stderr.
 Loading required package: pacman
parsing as GCT v1.3
tmp/cll-set1-v1.0-proteome/normalized-data/proteome-ratio-norm.gct 10000 rows, 110 cols, 17 row descriptors, 13 col descriptors
Error in validObject(.Object) : 
  invalid class “GCT” object: cid must be unique
Calls: rmd_normalize ... new -> initialize -> initialize -> .local -> validObject
Execution halted

[2020-08-16 14:44:42,67] [info] WorkflowManagerActor WorkflowActor-f470e2cb-0522-45fb-9a90-9c9c0a1c339b is in a terminal state: WorkflowFailedState
[2020-08-16 14:44:47,58] [info] SingleWorkflowRunnerActor workflow finished with status 'Failed'.
[2020-08-16 14:44:49,80] [info] Workflow polling stopped
[2020-08-16 14:44:49,82] [info] Shutting down WorkflowStoreActor - Timeout = 5 seconds
[2020-08-16 14:44:49,84] [info] Aborting all running workflows.
[2020-08-16 14:44:49,85] [info] Shutting down WorkflowLogCopyRouter - Timeout = 5 seconds
[2020-08-16 14:44:49,86] [info] Shutting down JobExecutionTokenDispenser - Timeout = 5 seconds
[2020-08-16 14:44:49,86] [info] WorkflowStoreActor stopped
[2020-08-16 14:44:49,87] [info] JobExecutionTokenDispenser stopped
[2020-08-16 14:44:49,88] [info] Shutting down WorkflowManagerActor - Timeout = 3600 seconds
[2020-08-16 14:44:49,88] [info] WorkflowLogCopyRouter stopped
[2020-08-16 14:44:49,88] [info] WorkflowManagerActor All workflows finished
[2020-08-16 14:44:49,89] [info] WorkflowManagerActor stopped
[2020-08-16 14:44:49,89] [info] Connection pools shut down
[2020-08-16 14:44:49,90] [info] Shutting down SubWorkflowStoreActor - Timeout = 1800 seconds
[2020-08-16 14:44:49,91] [info] SubWorkflowStoreActor stopped
[2020-08-16 14:44:49,91] [info] Shutting down JobStoreActor - Timeout = 1800 seconds
[2020-08-16 14:44:49,91] [info] Shutting down CallCacheWriteActor - Timeout = 1800 seconds
[2020-08-16 14:44:49,91] [info] CallCacheWriteActor Shutting down: 0 queued messages to process
[2020-08-16 14:44:49,91] [info] JobStoreActor stopped
[2020-08-16 14:44:49,91] [info] Shutting down ServiceRegistryActor - Timeout = 1800 seconds
[2020-08-16 14:44:49,91] [info] CallCacheWriteActor stopped
[2020-08-16 14:44:49,91] [info] Shutting down DockerHashActor - Timeout = 1800 seconds
[2020-08-16 14:44:49,92] [info] WriteMetadataActor Shutting down: 0 queued messages to process
[2020-08-16 14:44:49,92] [info] KvWriteActor Shutting down: 0 queued messages to process
[2020-08-16 14:44:49,92] [info] Shutting down IoProxy - Timeout = 1800 seconds
[2020-08-16 14:44:49,92] [info] ServiceRegistryActor stopped
[2020-08-16 14:44:49,93] [info] IoProxy stopped
[2020-08-16 14:44:49,92] [info] DockerHashActor stopped
[2020-08-16 14:44:50,02] [info] Database closed
[2020-08-16 14:44:50,03] [info] Stream materializer shut down
Workflow f470e2cb-0522-45fb-9a90-9c9c0a1c339b transitioned to state Failed
[2020-08-16 14:44:50,10] [info] Automatic shutdown of the async connection
[2020-08-16 14:44:50,10] [info] Gracefully shutdown sentry threads.
[2020-08-16 14:44:50,11] [info] Shutdown finished.
