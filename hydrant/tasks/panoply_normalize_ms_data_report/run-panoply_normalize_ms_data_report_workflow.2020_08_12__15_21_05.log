[2020-08-12 15:21:07,61] [info] Running with database db.url = jdbc:hsqldb:mem:fde5ceac-f8f2-42f7-8353-8379523b67ab;shutdown=false;hsqldb.tx=mvcc
[2020-08-12 15:21:17,08] [info] Running migration RenameWorkflowOptionsInMetadata with a read batch size of 100000 and a write batch size of 100000
[2020-08-12 15:21:17,09] [info] [RenameWorkflowOptionsInMetadata] 100%
[2020-08-12 15:21:17,20] [info] Running with database db.url = jdbc:hsqldb:mem:b2f0a89a-1ae4-40e7-851e-2d6f4e48706f;shutdown=false;hsqldb.tx=mvcc
[2020-08-12 15:21:17,68] [info] Slf4jLogger started
[2020-08-12 15:21:17,94] [info] Workflow heartbeat configuration:
{
  "cromwellId" : "cromid-4bc43e0",
  "heartbeatInterval" : "2 minutes",
  "ttl" : "10 minutes",
  "writeBatchSize" : 10000,
  "writeThreshold" : 10000
}
[2020-08-12 15:21:18,03] [info] Metadata summary refreshing every 2 seconds.
[2020-08-12 15:21:18,08] [info] WriteMetadataActor configured to flush with batch size 200 and process rate 5 seconds.
[2020-08-12 15:21:18,09] [info] CallCacheWriteActor configured to flush with batch size 100 and process rate 3 seconds.
[2020-08-12 15:21:18,10] [info] KvWriteActor configured to flush with batch size 200 and process rate 5 seconds.
[2020-08-12 15:21:18,75] [info] JobExecutionTokenDispenser - Distribution rate: 50 per 1 seconds.
[2020-08-12 15:21:18,78] [info] SingleWorkflowRunnerActor: Version 34
[2020-08-12 15:21:18,79] [info] SingleWorkflowRunnerActor: Submitting workflow
[2020-08-12 15:21:18,84] [info] Unspecified type (Unspecified version) workflow 282f2997-1303-4819-88c7-949ea94c37e3 submitted
[2020-08-12 15:21:18,89] [info] SingleWorkflowRunnerActor: Workflow submitted [38;5;2m282f2997-1303-4819-88c7-949ea94c37e3[0m
[2020-08-12 15:21:18,90] [[38;5;220mwarn[0m] SingleWorkflowRunnerActor: received unexpected message: Done in state RunningSwraData
[2020-08-12 15:21:18,98] [[38;5;220mwarn[0m] Couldn't find a suitable DSN, defaulting to a Noop one.
[2020-08-12 15:21:18,99] [info] Using noop to send events.
[2020-08-12 15:21:19,04] [info] 1 new workflows fetched
[2020-08-12 15:21:19,04] [info] WorkflowManagerActor Starting workflow [38;5;2m282f2997-1303-4819-88c7-949ea94c37e3[0m
[2020-08-12 15:21:19,04] [info] WorkflowManagerActor Successfully started WorkflowActor-282f2997-1303-4819-88c7-949ea94c37e3
[2020-08-12 15:21:19,04] [info] Retrieved 1 workflows from the WorkflowStoreActor
[2020-08-12 15:21:19,04] [info] WorkflowStoreHeartbeatWriteActor configured to flush with batch size 10000 and process rate 2 minutes.
[2020-08-12 15:21:19,04] [info] MaterializeWorkflowDescriptorActor [[38;5;2m282f2997[0m]: Parsing workflow as WDL draft-2
[2020-08-12 15:21:19,83] [info] MaterializeWorkflowDescriptorActor [[38;5;2m282f2997[0m]: Call-to-Backend assignments: panoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report -> Local
[2020-08-12 15:21:19,95] [[38;5;220mwarn[0m] Local [[38;5;2m282f2997[0m]: Key/s [memory, disks, cpu] is/are not supported by backend. Unsupported attributes will not be part of job executions.
[2020-08-12 15:21:21,20] [info] WorkflowExecutionActor-282f2997-1303-4819-88c7-949ea94c37e3 [[38;5;2m282f2997[0m]: Starting panoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report
[2020-08-12 15:21:22,12] [[38;5;220mwarn[0m] BackgroundConfigAsyncJobExecutionActor [[38;5;2m282f2997[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: Unrecognized runtime attribute keys: disks, cpu, memory
[2020-08-12 15:21:22,24] [[38;5;220mwarn[0m] Localization via hard link has failed: /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/inputs/-1376229487/acetylome-28a7ada4-4d04-46dd-8fe5-1c4e82449081-pgdac_main_full.tar -> /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/testdata/acetylome-28a7ada4-4d04-46dd-8fe5-1c4e82449081-pgdac_main_full.tar: Operation not permitted
[2020-08-12 15:21:37,00] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2m282f2997[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: [38;5;5mset -euo pipefail
Rscript /home/pgdac/src/rmd-normalize.r /cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/inputs/-1376229487/acetylome-28a7ada4-4d04-46dd-8fe5-1c4e82449081-pgdac_main_full.tar panoply-lscc-3-2-acetylome-full-results acetylome tmp[0m
[2020-08-12 15:21:37,04] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2m282f2997[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: executing: # make sure there is no preexisting Docker CID file
rm -f /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/execution/docker_cid
# run as in the original configuration without --rm flag (will remove later)
docker run \
  --cidfile /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/execution/docker_cid \
  -i \
   \
  --entrypoint /bin/bash \
  -v /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report:/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report \
  broadcptacdev/panoply_normalize_ms_data_report@sha256:59bf6a65561cb4c6a6619ef2ae2ab0782394ee4fee8a77ca1e3d57ee6419e0bc /cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/execution/script

# get the return code (working even if the container was detached)
rc=$(docker wait [38;5;5mcat /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/execution/docker_cid[0m)

# remove the container after waiting
docker rm [38;5;5mcat /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/execution/docker_cid[0m

# return exit code
exit $rc
[2020-08-12 15:21:38,13] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2m282f2997[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: job id: 70079
[2020-08-12 15:21:38,14] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2m282f2997[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: Status change from - to WaitingForReturnCodeFile
[2020-08-12 15:22:17,75] [info] BackgroundConfigAsyncJobExecutionActor [[38;5;2m282f2997[0mpanoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1]: Status change from WaitingForReturnCodeFile to Done
[2020-08-12 15:22:18,58] [info] $a [[38;5;2m282f2997[0m]: Copying workflow logs from /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-workflow-logs/workflow.282f2997-1303-4819-88c7-949ea94c37e3.log to running/wf_logs/workflow.282f2997-1303-4819-88c7-949ea94c37e3.log
[2020-08-12 15:22:18,59] [[38;5;1merror[0m] WorkflowManagerActor Workflow 282f2997-1303-4819-88c7-949ea94c37e3 failed (during ExecutingWorkflowState): Job panoply_normalize_ms_data_report_workflow.panoply_normalize_ms_data_report:NA:1 exited with return code 1 which has not been declared as a valid return code. See 'continueOnReturnCode' runtime attribute for more details.
Check the content of stderr for potential additional information: /media/sf_Dropbox/Devel/PANOPLY/hydrant/tasks/panoply_normalize_ms_data_report/cromwell-executions/panoply_normalize_ms_data_report_workflow/282f2997-1303-4819-88c7-949ea94c37e3/call-panoply_normalize_ms_data_report/execution/stderr.
 Loading required package: pacman
Error in file(file, "r") : cannot open the connection
Calls: rmd_normalize ... new -> initialize -> initialize -> .local -> scan -> file
Execution halted

[2020-08-12 15:22:18,60] [info] WorkflowManagerActor WorkflowActor-282f2997-1303-4819-88c7-949ea94c37e3 is in a terminal state: WorkflowFailedState
[2020-08-12 15:22:33,99] [info] SingleWorkflowRunnerActor workflow finished with status 'Failed'.
[2020-08-12 15:22:38,11] [info] Workflow polling stopped
[2020-08-12 15:22:38,12] [info] Shutting down WorkflowStoreActor - Timeout = 5 seconds
[2020-08-12 15:22:38,13] [info] Shutting down WorkflowLogCopyRouter - Timeout = 5 seconds
[2020-08-12 15:22:38,14] [info] Shutting down JobExecutionTokenDispenser - Timeout = 5 seconds
[2020-08-12 15:22:38,14] [info] JobExecutionTokenDispenser stopped
[2020-08-12 15:22:38,14] [info] Aborting all running workflows.
[2020-08-12 15:22:38,14] [info] WorkflowStoreActor stopped
[2020-08-12 15:22:38,14] [info] WorkflowLogCopyRouter stopped
[2020-08-12 15:22:38,14] [info] Shutting down WorkflowManagerActor - Timeout = 3600 seconds
[2020-08-12 15:22:38,15] [info] WorkflowManagerActor stopped
[2020-08-12 15:22:38,15] [info] Connection pools shut down
[2020-08-12 15:22:38,15] [info] Shutting down SubWorkflowStoreActor - Timeout = 1800 seconds
[2020-08-12 15:22:38,15] [info] Shutting down JobStoreActor - Timeout = 1800 seconds
[2020-08-12 15:22:38,15] [info] Shutting down CallCacheWriteActor - Timeout = 1800 seconds
[2020-08-12 15:22:38,15] [info] WorkflowManagerActor All workflows finished
[2020-08-12 15:22:38,15] [info] CallCacheWriteActor Shutting down: 0 queued messages to process
[2020-08-12 15:22:38,15] [info] JobStoreActor stopped
[2020-08-12 15:22:38,15] [info] SubWorkflowStoreActor stopped
[2020-08-12 15:22:38,15] [info] Shutting down ServiceRegistryActor - Timeout = 1800 seconds
[2020-08-12 15:22:38,15] [info] CallCacheWriteActor stopped
[2020-08-12 15:22:38,15] [info] Shutting down DockerHashActor - Timeout = 1800 seconds
[2020-08-12 15:22:38,15] [info] Shutting down IoProxy - Timeout = 1800 seconds
[2020-08-12 15:22:38,16] [info] DockerHashActor stopped
[2020-08-12 15:22:38,16] [info] IoProxy stopped
[2020-08-12 15:22:38,16] [info] WriteMetadataActor Shutting down: 0 queued messages to process
[2020-08-12 15:22:38,16] [info] KvWriteActor Shutting down: 0 queued messages to process
[2020-08-12 15:22:38,16] [info] ServiceRegistryActor stopped
[2020-08-12 15:22:38,56] [info] Database closed
[2020-08-12 15:22:38,56] [info] Stream materializer shut down
Workflow 282f2997-1303-4819-88c7-949ea94c37e3 transitioned to state Failed
[2020-08-12 15:22:38,64] [info] Automatic shutdown of the async connection
[2020-08-12 15:22:38,64] [info] Gracefully shutdown sentry threads.
[2020-08-12 15:22:38,64] [info] Shutdown finished.
