##############################################
##  multi-omics NMF
##
panoply_mo_nmf:

 ## clustering
 kmin: 3
 kmax: 4
 exclude_2: TRUE
 core_membership: 0.5 
 
 #########################
 ## NMF parameters
 nrun: 2
 seed: random
 method: brunet
 bnmf: FALSE
 
 ###############################
 ## annotations to include in heatmaps
 ## and enrichment 
 
 ## categorial
 cat_anno: [Bailey, Collisson, Moffitt, histology_diagnosis, sex, tumor_necrosis, tumor_focality, lymph_vascular_invasion, vital_status, participant_country, CDKN2A, CTNNA2, KRAS, MUC4, SMAD4, TP53]
 ## continuous
 cont_anno: [age, bmi, tumor_size_cm, neoplastic_cellularity_histology_estimate, inflammation_histology_estimate, immune_deconv, epithelial_cancer_deconv, stromal_deconv, mature_exocrine_endocrine_deconv, EGFR_pathway, Estrogen_pathway, Hypoxia_pathway, JAK.STAT_pathway, MAPK_pathway, NFkB_pathway, PI3K_pathway, TGFb_pathway, TNFa_pathway, Trail_pathway, VEGF_pathway, WNT_pathway, p53_pathway, StromalScore_ESTIMATE, ImmuneScore_ESTIMATE, T_cells_MCPCounter, CD8_T_cells_MCPCounter, Cytotoxic_lymphocytes_MCPCounter, B_lineage_MCPCounter, NK_cells_MCPCounter, Monocytic_lineage_MCPCounter, Myeloid_dendritic_cells_MCPCounter, Neutrophils_MCPCounter, Endothelial_cells_MCPCounter, Fibroblasts_MCPCounter, mutation_count, KRAS_VAF]
 
 ###############################
 ## aestehtics

 ## colors for 'cat_anno'
 cat_colors:
  CDKN2A:
   mut: black
   wt: white
  CTNNA2:
   mut: black
   wt: white
  KRAS:
   mut: black
   wt: white
  MUC4:
   mut: black
   wt: white
  SMAD4:
   mut: black
   wt: white
  TP53:
   mut: black
   wt: white
  Bailey:
   squamous: 'dodgerblue'
   ADEX: 'chocolate'
   'pancreatic progenitor': 'turquoise'
   immunogenic: 'orange'
  Collisson:
   quasimesenchymal: '#BB81B8'
   'exocrine-like': '#82B2D4'
   classical: '#FCB462'
  Moffitt:
   'BASAL-LIKE': '#EE2025'
   'CLASSICAL': '#FCB462'
  histology_diagnosis:
   PDAC: '#00008B'
   'Adenosquamous carcinoma': 'red' 
   '?': 'white' 
  sex:
   Male: '#FAEE6C'
   Female: '#CCE7A7'
  tumor_necrosis:
   'Not identified': 'white'
   'Present': darkblue
  tumor_focality:
   Unifocal: 'grey20'
   Multifocal: 'grey70'
  lymph_vascular_invasion:
   'Present': 'darkblue'
   'Not identified': 'white'
   'Indeterminate': 'lightblue1'
  vital_status:
   Living: 'chartreuse1' 
   Deceased: 'maroon'
  participant_country:
   'United States': 'blue'
   'Bulgaria': 'darkgreen'
   'Canada': 'yellow'
   'China': 'red'
   'Denmark': 'orange'
   'India': 'brown'
   'Iraq': 'darkblue'
   'Poland': 'azure'
   'Russia': 'black'
   'Serbia': 'cyan'
   'South Wales': 'magenta'
   'Other': 'grey30'
   
 ## heatmap parameters
 hm_cw: 5      ## cell width
 hm_ch: 8      ## cell height 
 hm_max_val: 10   ## max value at which the data will be capped in heatmap 
 hm_max_val_z: 4  ## max value if z-scored 

 #########################
 ## filtering
 filt_mode: global   ## global, separate, equal
 sd_filt: 0.5
 z_score: TRUE
 
 #########################
 ## imputation
 impute: FALSE
 impute_k: 5
 max_na_row: 0.3 ## (not working yet)
 max_na_col: 0.9 ## (not working yet)
 
 #########################
 ## misc
 gene_col: geneSymbol     ##   
 nmf_only: FALSE          ## if TRUE, no downstream analysis of clustering results will be performed
 organism: human
 #lib_dir: 'C:/Users/karsten/Dropbox/Devel/PGDAC/src/pgdac_mo_nmf/'


######################################
## ssgsea preprocessGCT parameters   
panoply_preprocess_gct:
 level: gc                      ## Mode of report, 'ssc' - single-site-centric, 'gc' - gene-centric, 'gcr' - gene-centric-redundant.
 id_type: sm                    ## Notation of site-ids: 'sm' - Spectrum Mill; 'wg' - Web Gestalt; 'ph' - Philosopher
 id_type_out: uniprot           ## Type of site id for output: 'uniprot', 'refseq', 'seqwin', 'psp' (psp not implemented yet).
 acc_type_in: refseq            ## Type of accession number in 'rid' object in GCT file (uniprot, refseq, symbol).
 seqwin_column: VMsiteFlanks    ## Column containing flanking sequences, separated by '|'. Only relevant if '--id_type_out' = 'seqwin'
 gene_symbol_column: geneSymbol ## Name of column listing gene names; used for gene centric reports.
 sgt_column: subgroupNum        ## Column used to collpase subgroup-top (SGT) reports.
 localized: TRUE                ## CAUTION: it is NOT RECOMMENDED to set this flag to FALSE. If TRUE only fully localized sites will be considered.
 mode: abs.max                   ## Determines how multiple sites per gene will be combined: sd - most variable (standard deviation) across sample columns; SGT - subgroup top: first subgroup in protein group (Spectrum Mill); abs.max - for log-transformed, signed p-values.
 residue: "S|T|Y"               ## Modified residues, e.g. "S|T|Y" or "K".
 ptm: p                         ## Type of modification, e.g "p" or "ac".
 preprocess_gct: TRUE           ## If FALSE nothing will be done; probably needed for to make this step optional in WDL.
 

####################################
## ssgsea parameters 
panoply_ssgsea: 
 nperm: 3
 weight: 1
 output_prefix: "ssgsea-results"
 sample_norm_type: "rank"        ## rank, log, log.rank, none
 correl_type: "z.score"          ## "rank", "z.score", "symm.rank"
 statistic: "area.under.RES"     ## "area.under.RES", "Kolmogorov-Smirnov" 
 output_score_type: "NES"        ## 'Score type: "ES" - enrichment score,  "NES" - normalized ES'
 min_overlap: 10                 ## 'Minimal overlap between signature and data set.'
 extended_output: TRUE           ## 'If TRUE additional stats on signature coverage etc. will be included as row annotations in the GCT results files.'
 export_signat_gct: TRUE         ## For each signature export expression GCT files.
 global_fdr: FALSE               ## If TRUE global FDR across all data columns is calculated.
 multi_core: TRUE                ## If TRUE processing will be parallized across gene sets using (N-1) CPU cores.
